<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>El Tiempo</title>
    <link rel="icon" href="iconoTiempo.jpg" type="image/x-icon">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-Zenh87qX5JnK2Jl0vWa8Ck2rdkQ2Bzep5IDxbcnCeuOxjzrPF/et3URy9Bv1WTRi" crossorigin="anonymous">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.1/jquery.min.js"></script>
</head>
<body>
    <div id="interfaz">
    
    <h2>Â¡Bienvenido a la web del Tiempo!</h2>
    <input type="text" placeholder="Indique la ciudad" id="ubicacion"><button id="cargar">Buscar</button>

    </div>
    

    <script>  

       
        //Creamos el objeto pagina
        var pagina ={};

       
        
        pagina.cargar= function(){
            
            var ubicacion=$("#ubicacion").val();
            pagina.ubicacion = ubicacion;
            pagina.url='https://api.weatherapi.com/v1/forecast.json?key=885c13b9b2dd445080f94518240105&q=' + ubicacion + '&days=1&aqi=no&alerts=no';
            $.ajax({
                        url: pagina.url,

                        success:function(data){
                            
                            console.log(data);
                            pagina.datos= data;
                            pagina.procesaDatos();
                        }
                    });
        }
 
        pagina.procesaDatos=function(){

            for(var i=0; i < pagina.datos.forecast.forecastday[0].hour.length; i++){
                
                pagina.time=pagina.datos.forecast.forecastday[0].hour[i].time;
                pagina.temperatura=pagina.datos.forecast.forecastday[0].hour[i].temp_c;
                pagina.condiciones= pagina.datos.forecast.forecastday[0].hour[i].condition;
                pagina.mostrar();
            }
        }

        pagina.mostrar=function(){

            var estructura = $("#interfaz").val()
            $(estructura).find("h4").text("Mi ubicacion");
        }
        
        $(document).ready(function(){
            $("#cargar").click(function(){
            
                pagina.cargar();
            });
        });
    </script>
</body>
</html>